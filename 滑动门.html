<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>sliding doors</title>
	<!-- 1 class标签中不能使用纯数字 -->
	<!-- 2 图片只有在绝对定位中才可以浮动相互覆盖 -->
	<!-- 3 图片属性中不能使用数学算式 -->
	<!-- 4 在同一个函数体内，变量相互共享 -->
	<style type="text/css">
		*{
			margin:0;
			padding:0;
		}
		#images{
			height:300px;
			margin:100px auto;
			border:4px solid #eee;
			position:relative;
			/*边界之外的隐藏*/
			overflow:hidden;
			cursor:pointer;
		}
		img{
			position:absolute;
			border:2px solid #aaa;
		}
		
	</style>
	<script type="text/javascript">
		window.onload=function(){
			var box=document.getElementById('images');
			var img=images.getElementsByTagName('img');

			//单张图片的宽度
			var imgWidth=img[0].offsetWidth;

			//设置隐藏门体露出的宽度
			var doorWidth=167;

			//盒子的宽度,能用代码表示的就不要用常量，增强程序的拓展性
			var boxWidth=doorWidth*(img.length-1)+imgWidth;

			//设置盒子的宽度
			box.style.width=boxWidth+'px';

			//对图片进行布局
			out();
		
			//创建开门效果
			for(var i=0;i<img.length-1;i++){

				//定义一个属性便于传值
				img[i].index=i;
				img[i].onmouseover=over;
				img[i].onmouseout=out;
			}

			//鼠标掠过布局
			function over(){
				for(var m=this.index+1;m<img.length;m++){
					img[m].style.left=(4-m)*doorWidth-imgWidth+'px';
					//左移的距离（imgwidth-doorwidth）
					//本身的坐标((3-m)doorwidth)
					//最后的坐标(4-m)doorwidth-imagewidth
				}
			}

			//普通布局
			function out(){
				for(var i=0;i<img.length;i++){
					img[i].style.left=boxWidth-imgWidth-i*doorWidth+'px';
				}
			}				
		}

		
	</script>
</head>
<body>
	<div id="images">
		<img src="image/1.png" alt="" title=""/>
		<img src="image/2.png" alt="" title=""/>
		<img src="image/3.png" alt="" title=""/>
		<img src="image/4.png" alt="" title=""/>
	</div>
</body>
</html>